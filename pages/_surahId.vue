<template>
  <section class="container">
    <!-- navbar -->
    <van-nav-bar
      :title="surahDetail.name_latin"
      left-arrow fixed z-index="5"
      @click-left="() => $router.push('/')" />
    <!-- hero title -->
    <div class="hero">
      <img class="hero__bg" src="/quran.webp" alt="al qur'an">
      <van-skeleton :row="2" style="margin-bottom: 24px" :loading="loading" />
      <div class="hero__text-decor">{{ surahDetail.name }}</div>
      <h1 class="title bold">{{ surahDetail.name_latin }}</h1>
      <h4 class="subtitle">{{ surahDetail.translations.id.name }}</h4>
      <hr style="width: 50%" />
      <van-skeleton :row="1" style="margin-bottom: 24px" :loading="loading" />
      <h4 class="subtitle">Surat ke {{ surahDetail.number }} &bull; {{ surahDetail.number_of_ayah }} Ayat</h4>
      <svg v-if="Number(surahDetail.number) !== 9" width="210" height="32" viewBox="0 0 210 32" fill="none" xmlns="http://www.w3.org/2000/svg">
        <g clip-path="url(#clip0)">
        <path fill-rule="evenodd" clip-rule="evenodd" d="M8.1669 19.8879C8.0659 19.7873 7.8516 19.5605 7.524 19.2076C7.1963 18.8544 6.982 18.6279 6.8813 18.527C6.6293 18.5267 6.5032 18.7538 6.5032 19.2076C6.6041 19.2073 6.8813 19.321 7.3349 19.548C7.7887 19.7748 8.0659 19.8882 8.1669 19.8879ZM60.4199 17.8464V17.6193C60.4199 16.9138 60.1174 16.5609 59.5125 16.5609C59.21 16.5606 59.0589 16.6366 59.0589 16.7879C59.0589 16.9892 59.2353 17.2163 59.5882 17.4685C59.9411 17.72 60.2183 17.8467 60.4199 17.8464ZM84.8452 17.5439H84.6181C84.3661 17.5439 83.9882 17.7081 83.484 18.0355C82.9797 18.3629 82.7277 18.6027 82.7277 18.7538L82.9547 18.8292C83.1563 18.8799 83.3329 18.9051 83.484 18.9051C84.3409 18.9046 84.7944 18.5775 84.8452 17.9221V17.5439ZM84.9965 9.3016C85.0467 8.7463 85.0467 8.394 84.9965 8.2426C84.7944 8.343 84.5679 8.5958 84.3159 8.9992C84.4166 9.0491 84.6433 9.1503 84.9965 9.3016ZM86.6599 9.5284C86.5088 9.0238 86.1811 8.6964 85.6771 8.5451C85.5258 8.9484 85.5005 9.2257 85.6012 9.377C85.7525 9.4777 86.1054 9.5284 86.6599 9.5284ZM103.221 19.6611C103.17 19.6104 103.006 19.4344 102.729 19.1322C102.452 18.8292 102.288 18.6279 102.237 18.527C101.986 18.5267 101.859 18.7538 101.859 19.2076C101.91 19.2073 102.137 19.2833 102.54 19.4344C102.943 19.5852 103.17 19.6614 103.221 19.6611ZM10.4354 24.2742C10.2336 25.081 9.7548 25.6856 8.9985 26.089C7.5872 26.7441 5.6463 27.9037 3.1759 29.5674C3.4279 28.912 3.8315 28.3576 4.386 27.9037C5.9487 26.7948 7.9653 25.585 10.4354 24.2742ZM8.545 9.9063C8.545 10.3096 8.3684 10.789 8.0155 11.3434L7.8644 11.3429C7.9653 10.789 7.8392 10.5115 7.4863 10.5115C7.0829 10.5109 6.8561 11.2173 6.8057 12.6287C6.8057 13.4856 6.8057 14.368 6.8057 15.2754L6.6543 15.2748C6.6543 14.8216 6.4527 14.2674 6.0497 13.6117C5.6463 12.9561 5.2177 12.6287 4.7639 12.6287C4.7639 13.1834 4.4362 13.4606 3.7808 13.4606C3.1254 13.4601 2.7978 13.0573 2.7978 12.2505C2.7978 11.545 3.2011 11.1921 4.0079 11.1921C5.2177 11.1915 6.0497 11.8724 6.5032 13.2336C6.5032 12.3262 6.5032 11.4438 6.5032 10.5869C6.6041 9.4777 6.982 8.9232 7.6373 8.9232C8.2425 8.9229 8.545 9.2512 8.545 9.9063ZM41.6664 14.9726C41.515 15.6286 41.1874 16.208 40.6834 16.712C40.6834 16.712 40.5824 16.712 40.3809 16.712C40.2295 16.6612 40.0529 16.6366 39.8514 16.6366C38.1877 16.6366 36.373 17.1661 34.4069 18.2245C32.4405 19.2833 31.0291 19.8128 30.1722 19.8128C29.2646 19.8125 28.4581 19.4094 27.7523 18.6027C24.7277 20.9217 20.8459 22.0811 16.1067 22.0811C13.1828 22.0811 11.0403 21.7786 9.6791 21.174C9.5785 21.1737 9.4144 21.4005 9.1876 21.8543C8.9608 22.3078 8.7718 22.5349 8.6204 22.5349C8.4189 22.5343 8.0155 22.3586 7.4106 22.0057C6.6543 21.6525 6.2007 21.4764 6.0497 21.4764C5.5454 22.635 4.7891 23.4927 3.7808 24.0472C2.4196 24.8029 1.1593 25.1816 0 25.1816V24.8789C2.9743 23.5684 4.7639 22.2072 5.3691 20.7958C5.3691 18.3252 5.9487 17.0904 7.1081 17.0904C7.0577 17.0898 7.461 17.3549 8.3179 17.8844C9.1749 18.4136 10.133 18.8547 11.1917 19.2076C12.7544 19.7119 14.4686 19.9639 16.3338 19.9639C18.4005 19.9639 20.5684 19.6867 22.837 19.1322C25.6098 18.4258 27.5504 17.4935 28.6596 16.3341C28.7101 16.3338 28.7858 16.4098 28.8867 16.5609C28.836 16.712 28.7858 16.9141 28.7353 17.1661C29.1892 17.6193 29.7436 17.8467 30.399 17.8467C31.2559 17.8464 32.8439 17.191 35.1629 15.8803C33.6001 15.3256 32.5414 15.0486 31.9869 15.0486C31.7854 15.048 31.6595 15.1243 31.6088 15.2754L29.4916 15.1994V15.048C29.4916 13.6367 30.3233 12.9311 31.9869 12.9311C32.4912 12.9308 33.2725 13.1582 34.3312 13.6117C35.6417 14.1662 36.4235 14.4686 36.6755 14.5194C37.7342 14.8216 39.3978 14.9729 41.6664 14.9726ZM29.4916 23.3663C29.4916 23.8703 29.3153 24.4758 28.9621 25.1816C28.4581 25.1816 27.9036 25.0302 27.2984 24.7278C27.1474 24.8284 26.9203 25.2068 26.6178 25.8622C25.3576 25.509 24.7277 25.081 24.7277 24.5767C24.7277 24.425 24.904 23.9967 25.2566 23.2912C25.8114 23.2909 26.3914 23.4423 26.996 23.7447C27.1474 23.4924 27.4498 23.0894 27.9036 22.5349L29.4916 23.3663ZM19.8878 14.292C20.1398 14.6447 20.266 15.0486 20.266 15.5024C20.266 16.6113 19.8626 17.1661 19.0561 17.1661C18.1989 17.1658 17.7703 16.712 17.7703 15.8049C17.7703 15.1487 17.9722 14.4437 18.3755 13.6874C18.7285 13.0822 19.1066 12.4776 19.5097 11.8724L19.6611 11.8721C19.1066 13.7875 18.8291 14.7711 18.8291 14.8218C18.8291 15.3256 19.0054 15.5778 19.3586 15.5778C19.8121 15.5776 19.9635 15.2252 19.8121 14.5194L19.8878 14.292ZM19.1315 3.3273C18.9805 5.3944 17.1907 6.8814 13.7624 7.7891L13.46 7.7131C14.6701 7.2598 15.9052 6.3774 17.1654 5.0667C17.1654 4.6131 16.7119 4.3861 15.8042 4.3861C14.9473 4.3858 14.1406 4.6131 13.3846 5.0667C13.8886 3.8566 14.3169 3.1133 14.6701 2.8361C15.023 2.5583 15.6279 2.42 16.4848 2.42C17.594 2.42 18.4762 2.7224 19.1315 3.3273ZM38.3391 22.2324C38.2382 22.4844 37.898 22.7869 37.3183 23.1398C36.7384 23.4924 36.1712 23.6693 35.6167 23.6693C35.0118 23.669 34.7093 23.4173 34.7093 22.913C34.7093 22.5091 34.9613 22.0561 35.4653 21.5518L36.1459 20.9464C35.9444 20.7958 35.7176 20.7199 35.4653 20.7199C35.1629 20.7199 34.8607 20.7454 34.5583 20.7958C34.81 20.1399 35.289 19.8128 35.9949 19.8128C36.2973 19.8125 36.6502 19.9389 37.0536 20.1907C36.9527 20.3925 36.7509 20.6697 36.4484 21.0226C35.7933 21.7783 35.4653 22.2324 35.4653 22.3835C35.4653 22.7364 35.6924 22.913 36.1459 22.913C36.6502 22.913 37.381 22.6863 38.3391 22.2324ZM37.3561 3.6298C37.3561 4.184 37.0536 4.9281 36.4484 5.8607C35.8435 6.7936 35.1379 7.4617 34.3312 7.8648C35.2386 6.6544 35.6924 5.7725 35.6924 5.2181C25.9628 7.2343 17.6949 10.2844 10.8892 14.368C11.1412 13.3594 11.3932 12.78 11.6452 12.6287C14.2667 10.8641 18.3248 9.0241 23.8201 7.1085C29.063 5.3439 33.5749 4.1845 37.3561 3.6298ZM70.4775 14.1407C69.9732 14.4936 69.343 14.8972 68.5868 15.3511C67.4274 15.0988 66.5705 14.9729 66.016 14.9729C64.2515 14.9726 62.7893 15.2754 61.63 15.8803C61.63 18.6024 61.1761 19.9639 60.2688 19.9639C59.5629 19.9639 58.7313 19.6362 57.7732 18.9808C57.5716 19.6359 57.2312 20.153 56.7524 20.5311C56.2733 20.9087 55.7064 21.098 55.051 21.098C55.051 23.669 53.6142 25.7616 50.7407 27.3745C48.5223 28.6348 45.5734 29.6433 41.8932 30.3993C38.5659 31.1046 35.3899 31.4581 32.3651 31.4581C22.6859 31.4578 15.8547 28.7609 11.8723 23.3666L11.9477 23.0638C17.2411 27.097 24.1982 29.1138 32.8189 29.1138C38.3139 29.1136 43.2796 28.3323 47.7161 26.7696C52.0012 25.3069 54.1434 23.7447 54.1434 22.0811C54.1434 21.627 53.9795 21.1612 53.6519 20.6822C53.3245 20.2034 53.1606 19.8882 53.1606 19.7368C53.1606 19.4845 53.3622 18.9304 53.7652 18.0732C54.572 18.7285 55.1015 19.0562 55.3535 19.0562C56.3113 19.0559 57.0421 18.5775 57.5467 17.6196C58.3027 16.2581 58.6808 15.5778 58.6808 15.5778C59.8402 14.5696 61.6549 13.8892 64.1253 13.536C62.5121 12.8807 61.4281 12.553 60.8737 12.553C60.7226 12.553 60.6217 12.6539 60.5712 12.8557L58.1513 12.8554V12.4776C58.1513 10.965 59.0589 10.2087 60.8737 10.2087C61.63 10.2084 62.6635 10.5869 63.9739 11.3434C65.9908 12.4016 68.1582 13.3345 70.4775 14.1407ZM45.8254 15.8046C45.8254 17.0646 45.4473 18.2245 44.6913 19.2833C43.9347 20.3417 43.5568 20.9217 43.5568 21.0226C43.5568 22.5851 43.1538 24.0472 42.347 25.4084C41.3889 26.9708 40.1538 27.7526 38.6416 27.7526C37.2804 27.7521 35.9949 27.5511 34.7847 27.1477L34.9361 26.9207C35.9949 26.9207 37.0029 26.7948 37.961 26.5425C38.9188 26.2902 39.99 25.585 41.1746 24.4253C42.3595 23.2657 42.9516 22.2829 42.9516 21.4764C42.9516 21.0223 42.7252 20.5688 42.271 20.115C41.8175 19.6611 41.5904 19.4344 41.5904 19.4344C41.5904 19.1818 41.7418 18.5775 42.0446 17.6196C42.4981 17.9218 43.0024 18.0732 43.5568 18.0732C44.2627 18.0726 44.7414 17.7959 44.9934 17.2415C44.8423 15.9806 44.4642 14.0151 43.8593 11.3434C43.3048 9.0238 42.9769 7.7641 42.8762 7.562C42.3218 6.2513 42.0446 5.4448 42.0446 5.1424C42.0446 4.7393 42.2461 4.1344 42.6495 3.3276C43.103 3.8313 43.7584 4.6633 44.6153 5.823C44.5651 5.9738 44.4642 6.2263 44.3128 6.5793C44.1618 6.9319 44.0861 7.1842 44.0861 7.3355C44.0861 7.2845 44.3761 8.5201 44.9557 11.0407C45.5357 13.5616 45.8254 15.1492 45.8254 15.8046ZM48.6989 21.9297L47.262 23.3663L45.8254 21.8537L47.1866 20.4171L48.6989 21.9297ZM40.9101 9.3016C40.9101 10.6115 40.532 11.2675 39.7757 11.2675C39.3723 11.2669 39.0446 11.1668 38.7926 10.9653C38.3896 11.5696 38.0616 11.8724 37.8096 11.8724C37.1041 11.8721 36.7509 11.4438 36.7509 10.5869C36.7509 10.2844 36.8016 9.9822 36.9022 9.6798L37.2047 9.5284C37.2047 10.133 37.457 10.4358 37.961 10.4358C38.4145 10.4355 38.6416 9.9822 38.6416 9.0746L39.0197 8.6964C39.0197 9.3515 39.2465 9.6798 39.7003 9.6798C40.0529 9.6795 40.28 9.2257 40.3809 8.3186L40.7588 8.0158C40.8597 8.4189 40.9101 8.8478 40.9101 9.3016ZM63.2933 22.6863C63.1423 23.4924 62.6635 24.0979 61.8567 24.501C60.4955 25.2068 58.5547 26.3662 56.0341 27.9797C56.2861 27.3235 56.6895 26.7696 57.2439 26.316C58.8069 25.2068 60.8232 23.9967 63.2933 22.6863ZM49.9087 17.0898C49.9087 17.9473 49.7324 18.9559 49.3795 20.115L46.2035 5.6719C46.2035 4.5624 46.4051 3.7812 46.8085 3.3276C46.9595 3.5793 47.514 5.8482 48.4721 10.1333C49.4299 14.4182 49.9087 16.7375 49.9087 17.0898ZM56.3366 14.292C56.3366 15.3508 56.2356 16.2335 56.0341 16.939L55.883 16.9387C55.883 14.6194 55.404 12.9816 54.4458 12.0238V10.0576C55.7064 11.3681 56.3366 12.78 56.3366 14.292ZM68.6624 21.7024C68.5618 21.9544 68.2217 22.2577 67.6417 22.6106C67.0617 22.9629 66.4945 23.1398 65.9401 23.1398C65.285 23.1395 64.957 22.8878 64.957 22.3835C64.957 21.9804 65.2345 21.5266 65.789 21.0226L66.4696 20.4171C66.268 20.2658 66.041 20.1907 65.789 20.1907C65.4361 20.1904 65.1333 20.2159 64.8816 20.2663C65.1333 19.6104 65.6126 19.2833 66.3182 19.2833C66.6206 19.2833 66.9486 19.4094 67.3012 19.6614C67.2511 19.8125 67.0492 20.09 66.6966 20.4934C66.0914 21.2491 65.789 21.7029 65.789 21.8543C65.789 22.2069 65.9908 22.3835 66.3939 22.3835C66.9486 22.383 67.7046 22.157 68.6624 21.7024ZM52.4043 4.7639C52.6563 5.1673 52.7822 5.5962 52.7822 6.0497C52.7822 7.1085 52.3791 7.638 51.5724 7.638C50.7155 7.6377 50.2869 7.1842 50.2869 6.2768C50.2869 5.6211 50.4762 4.9533 50.8541 4.273C51.2322 3.5921 51.6231 2.9495 52.0262 2.3446H52.1776C51.6231 4.2599 51.3456 5.2433 51.3456 5.2937C51.3456 5.7977 51.5219 6.0497 51.8751 6.0497C52.3286 6.0492 52.48 5.6968 52.3286 4.9913L52.4043 4.7639ZM78.3419 25.1056C78.6444 25.509 78.7955 25.9379 78.7955 26.3914C78.7955 27.5001 78.3924 28.0551 77.5856 28.0551C76.6783 28.0548 76.2244 27.5763 76.2244 26.6185C76.2244 25.9623 76.4263 25.3075 76.8293 24.6524C77.2327 23.9964 77.6109 23.3416 77.9638 22.6863L78.1149 22.7617C77.5604 24.677 77.2832 25.6604 77.2832 25.7108C77.2832 26.2148 77.4595 26.4671 77.8124 26.4671C78.2662 26.4668 78.4173 26.089 78.2662 25.333L78.3419 25.1056ZM68.0575 2.7978C68.0575 3.3526 67.7551 4.0964 67.1502 5.029C66.5452 5.9616 65.8646 6.6549 65.1084 7.1085C65.9653 5.8479 66.3939 4.9405 66.3939 4.3861C61.2515 5.4445 55.9584 7.5371 50.5139 10.6628C50.7659 9.7044 51.0179 9.1253 51.2699 8.9232C55.807 5.8479 61.4029 3.8064 68.0575 2.7978ZM74.9389 15.8046C74.9389 17.0646 74.5735 18.2245 73.8425 19.2833C73.1114 20.3417 72.7458 20.9217 72.7458 21.0226C72.7458 22.635 72.3427 24.1481 71.5362 25.5598C70.6286 27.2228 69.444 28.0551 67.9818 28.0551C67.1249 28.0548 65.789 27.7526 63.9739 27.1477L64.0499 26.9207C65.1591 26.9207 66.2176 26.7696 67.2258 26.4671C68.0828 26.265 69.1035 25.585 70.2884 24.4253C71.473 23.2657 72.0654 22.2829 72.0654 21.4764C72.0654 21.0223 71.8387 20.5688 71.3848 20.115C70.931 19.6611 70.7042 19.4344 70.7042 19.4344C70.7042 19.1818 70.8806 18.5775 71.2335 17.6196C71.6368 17.9218 72.1159 18.0732 72.6703 18.0732C73.4263 18.0726 73.9054 17.7959 74.1069 17.2415C73.9559 15.9806 73.5777 14.0151 72.9728 11.3434C72.4685 9.0238 72.1661 7.7641 72.0654 7.562C71.4605 6.2513 71.1581 5.4448 71.1581 5.1424C71.1581 4.7393 71.3596 4.1344 71.7627 3.3276C72.2168 3.8313 72.8467 4.6633 73.6534 5.823C73.6534 5.9738 73.5905 6.2263 73.4643 6.5793C73.3385 6.9319 73.2753 7.1842 73.2753 7.3355C73.2753 7.2845 73.5525 8.5201 74.1069 11.0407C74.6614 13.5616 74.9389 15.1492 74.9389 15.8046ZM88.0968 23.4423C87.9454 24.249 87.4666 24.8539 86.6599 25.2573C85.2987 25.9121 83.3578 27.072 80.8372 28.7357C81.0892 28.08 81.4926 27.5259 82.0474 27.072C83.6101 25.9623 85.6264 24.753 88.0968 23.4423ZM70.7799 8.5451C70.7799 9.9063 70.4018 10.5869 69.6455 10.5869C69.2424 10.5863 68.94 10.4607 68.7381 10.2087C68.2843 10.8136 67.9317 11.1164 67.6794 11.1164C67.024 11.1161 66.6966 10.713 66.6966 9.9063C66.6966 9.5536 66.7468 9.2512 66.8477 8.9992L67.0745 8.8475C67.0745 9.4023 67.3265 9.6798 67.8308 9.6798C68.3348 9.6795 68.5868 9.2512 68.5868 8.394L68.9649 7.9404C68.9649 8.6457 69.1667 8.9992 69.5698 8.9992C69.9732 8.9989 70.2252 8.5451 70.3261 7.638L70.6286 7.335C70.7295 7.6879 70.7799 8.0915 70.7799 8.5451ZM79.0225 17.0898C79.0225 17.9473 78.8711 18.9559 78.5687 20.115L75.3171 5.6719C75.3171 4.5624 75.5441 3.7812 75.9977 3.3276C76.1487 3.5793 76.691 5.8482 77.6236 10.1333C78.5559 14.4182 79.0225 16.7375 79.0225 17.0898ZM95.1292 18.0726C95.1292 20.4931 94.3732 21.7029 92.861 21.7029C91.7013 21.7024 90.8946 21.1989 90.441 20.1907C90.0881 21.8537 89.1555 22.6863 87.6429 22.6863C86.8362 22.6863 86.2063 22.3586 85.7525 21.7029C85.2987 21.0478 85.0719 20.3168 85.0719 19.5103C84.215 20.9719 83.3578 21.7029 82.5009 21.7029C81.4926 21.7024 80.9886 21.0731 80.9886 19.8128C80.9886 18.9046 81.6315 18.0859 82.9167 17.3549C84.2023 16.6235 84.8452 16.208 84.8452 16.1073C84.9461 15.6532 84.9965 15.2504 84.9965 14.8972L85.6771 13.9142C85.8282 14.3176 85.9036 14.7966 85.9036 15.3511C85.9036 15.6532 85.8659 16.0946 85.7905 16.6743C85.7148 17.2537 85.6771 17.6953 85.6771 17.9978C85.6771 19.4593 86.4079 20.1907 87.87 20.1907C89.2817 20.1904 89.9872 19.5103 89.9872 18.1491C89.9872 17.6953 89.8738 16.9767 89.6468 15.9937C89.4203 15.0103 89.3066 14.2923 89.3066 13.8388C89.3066 13.3342 89.5337 12.6287 89.9872 11.7213C90.3401 13.1834 90.693 14.6452 91.0459 16.1073C91.5499 18.0726 92.281 19.0562 93.2388 19.0562C93.844 19.0559 94.1465 18.8297 94.1465 18.3756C94.1465 17.5686 93.844 16.3846 93.2388 14.8218C92.6339 13.2588 92.3315 12.4019 92.3315 12.2505C92.3315 11.9475 92.4324 11.545 92.6339 11.0407C92.8355 10.5364 92.9364 10.1586 92.9364 9.9063C94.3985 13.1327 95.1292 15.8551 95.1292 18.0726ZM87.1137 9.377C86.9122 10.3343 86.307 10.6878 85.2987 10.4358C84.8956 11.3429 84.0761 12.0867 82.8411 12.6667C81.606 13.2458 80.3837 13.536 79.1736 13.536L79.0225 13.3847C79.4259 13.3847 80.333 13.032 81.7446 12.3265C83.3578 11.5696 84.3661 10.9148 84.7695 10.3601C84.1646 10.1081 83.8621 9.7801 83.8621 9.377C83.8621 9.125 83.925 8.8351 84.0512 8.5074C84.1773 8.18 84.215 7.9654 84.1646 7.8648C84.0636 7.8137 84.0135 7.7134 84.0135 7.562C84.0135 7.2598 84.3409 7.1085 84.9965 7.1085C85.3996 7.1085 85.8787 7.3732 86.4331 7.9025C86.9876 8.432 87.2146 8.9232 87.1137 9.377ZM105.262 23.7444C105.111 24.5509 104.632 25.1312 103.826 25.4841C102.464 26.1896 100.524 27.3493 98.003 28.9627C98.3055 28.3576 98.7086 27.8031 99.2128 27.2991C100.776 26.1896 102.792 25.005 105.262 23.7444ZM81.9717 4.0079C82.2738 4.4113 82.4252 4.8399 82.4252 5.2937C82.4252 6.4024 82.0218 6.9574 81.2154 6.9574C80.3582 6.9571 79.9299 6.4783 79.9299 5.5205C79.9299 4.8651 80.1189 4.1973 80.4968 3.5167C80.8749 2.8355 81.2658 2.1932 81.6692 1.5883L81.7446 1.664C81.2406 3.5793 80.9886 4.5627 80.9886 4.6131C80.9886 5.1171 81.1397 5.3691 81.4422 5.3691C81.9464 5.3691 82.1228 4.9913 81.9717 4.235V4.0079ZM92.4828 8.091C92.4828 9.4524 92.0795 10.1333 91.2727 10.1333C90.9198 10.133 90.6173 10.0072 90.3653 9.7552C89.9115 10.3595 89.5841 10.6628 89.3823 10.6628C88.6765 10.6628 88.3235 10.2595 88.3235 9.4527C88.3235 9.0995 88.374 8.7974 88.4749 8.5451L88.7774 8.3937C88.7774 8.9484 89.0294 9.2257 89.5337 9.2257C89.9872 9.2251 90.2143 8.7974 90.2143 7.9404L90.5921 7.4863C90.5921 8.1924 90.8192 8.5451 91.2727 8.5451C91.6259 8.5451 91.8524 8.0915 91.9533 7.1842L92.2558 6.8057C92.4069 7.2091 92.4828 7.638 92.4828 8.091ZM98.4566 17.0898C98.4566 17.9473 98.3055 18.9559 98.003 20.115L94.7511 5.6719C94.7511 4.5624 94.9782 3.7812 95.4317 3.3276C95.5831 3.5793 96.1251 5.8482 97.0577 10.1333C97.9903 14.4182 98.4566 16.7375 98.4566 17.0898ZM90.7432 4.2347C90.7432 5.3439 90.6173 6.2263 90.3653 6.8814L90.2897 6.8811C90.2897 4.5624 89.7854 2.9243 88.7774 1.9664L88.8531 0C90.1133 1.3108 90.7432 2.7224 90.7432 4.2347ZM104.506 8.1669C104.506 8.5198 104.33 8.974 103.977 9.5284H103.826C103.927 9.0238 103.801 8.7721 103.448 8.7721C103.044 8.7718 102.843 9.4527 102.843 10.8139C102.792 11.721 102.767 12.6037 102.767 13.4606L102.616 13.4601C102.616 13.057 102.427 12.528 102.049 11.8724C101.67 11.217 101.229 10.8893 100.725 10.8893C100.725 11.3936 100.397 11.6459 99.7421 11.6459C99.1372 11.6456 98.8347 11.2675 98.8347 10.5115C98.8347 9.8056 99.2381 9.4527 100.045 9.4527C101.204 9.4524 102.011 10.1084 102.465 11.4188C102.465 10.5616 102.465 9.7047 102.465 8.8478C102.565 7.7383 102.943 7.1842 103.599 7.1842C104.204 7.1839 104.506 7.5118 104.506 8.1669ZM206.099 17.953C205.445 18.332 204.727 17.6449 204.324 17.2415C204.072 17.6446 203.845 18.0482 203.644 18.4516C203.14 19.1064 202.56 19.4344 201.904 19.4344C201.35 19.4338 200.82 19.2583 200.316 18.9051C199.56 19.7119 198.653 20.115 197.594 20.115C196.687 20.1144 195.653 19.6867 194.494 18.8297C189.301 20.4931 182.52 21.9048 174.152 23.0641C164.624 24.3749 154.995 25.0302 145.265 25.0302C128.377 25.0297 114.967 23.8204 105.036 21.4005C104.935 21.4005 104.771 21.5898 104.544 21.9677C104.317 22.3456 104.128 22.5349 103.977 22.5349C103.775 22.5343 103.334 22.3586 102.654 22.0057C101.973 21.6525 101.557 21.4764 101.406 21.4764C100.902 22.635 100.12 23.4927 99.0615 24.0472C97.751 24.8029 96.5157 25.1816 95.3563 25.1816V24.8789C98.3304 23.5684 100.12 22.2072 100.725 20.7958C100.725 18.3252 101.28 17.0904 102.389 17.0904C102.692 17.0898 103.158 17.3801 103.788 17.9598C104.418 18.5395 104.96 18.9051 105.414 19.0562C114.538 21.2239 128.377 22.3081 146.929 22.3081C166.136 22.3078 182.924 20.1907 197.292 15.956V16.4092C197.191 16.5606 196.964 16.8381 196.611 17.2415C197.014 17.6446 197.544 17.8467 198.199 17.8467C199.056 17.8464 200.241 17.0904 201.753 15.5778C201.804 15.7541 201.854 15.931 201.904 16.1073C201.904 16.1572 201.778 16.4347 201.526 16.939C201.778 17.1907 202.081 17.3172 202.434 17.3172C203.543 17.3166 203.712 16.4098 204.216 14.5948C204.382 14.5114 204.485 14.4831 204.687 14.4536C204.755 14.8595 204.806 15.3641 204.768 15.6813C205.926 15.5784 207.179 14.855 207.96 14.0879C207.257 12.8673 205.732 11.4149 204.486 9.9273C203.275 8.4799 203.807 7.405 204.238 5.7853C204.853 5.9046 208.086 10.802 209.312 14.4057C208.998 15.2524 208.684 16.0991 208.369 16.9456C207.612 17.4702 206.855 17.8064 206.099 17.953ZM195.855 21.7783C195.552 23.3416 195.074 24.1229 194.418 24.1229C194.166 24.1223 193.838 24.0222 193.435 23.8204C192.779 24.3749 192.326 24.6524 192.074 24.6524C191.973 24.6521 191.796 24.5639 191.544 24.3876C191.292 24.2113 191.091 24.1229 190.939 24.1229C190.385 24.1223 189.15 24.6773 187.234 25.7865C185.117 26.9961 183.377 27.7526 182.016 28.0551L181.941 27.828C183.251 27.4748 185.041 26.5425 187.31 25.0302C189.226 23.7195 190.612 23.0641 191.469 23.0641C191.62 23.0638 191.809 23.1398 192.036 23.2912C192.263 23.4423 192.452 23.518 192.603 23.518C192.654 23.5177 193.057 23.2407 193.813 22.6863C193.863 22.6863 193.977 22.7367 194.153 22.8376C194.33 22.9377 194.494 22.9887 194.645 22.9887C194.846 22.9884 194.985 22.8249 195.061 22.4972C195.136 22.1692 195.401 21.93 195.855 21.7783ZM204.4 21.7024C204.248 22.5091 203.77 23.0894 202.963 23.4423C201.602 24.1475 199.661 25.3075 197.14 26.921C197.392 26.3155 197.796 25.7616 198.35 25.2573C199.913 24.1475 201.929 22.9635 204.4 21.7024ZM208.559 20.4931L207.122 21.9297L205.61 20.4171L207.046 18.9805L208.559 20.4931ZM199.862 7.7131C199.711 9.7798 197.897 11.2675 194.418 12.1751L194.191 12.0989C195.401 11.6456 196.636 10.7635 197.896 9.4527C197.896 8.9989 197.418 8.7721 196.46 8.7721C195.653 8.7718 194.872 8.974 194.115 9.377C194.62 8.2171 195.048 7.4994 195.401 7.2219C195.754 6.9441 196.359 6.806 197.216 6.806C198.275 6.8057 199.157 7.1085 199.862 7.7131Z" fill="white"/>
        </g>
        <defs>
        <clipPath id="clip0">
        <rect width="209.312" height="31.4581" fill="white"/>
        </clipPath>
        </defs>
      </svg>
    </div>

    <!-- setting -->
    <div class="setting">
      <label class="label">Terjemahan</label>
      <van-switch size="24" v-model="isTranslation" />
    </div>

    <!-- loading skeleton -->
    <van-skeleton 
      v-for="n in 5" :key="n" avatar
      :row="3" row-width="100%"
      style="margin-bottom: 24px"
      :loading="loading" />

    <!-- list ayah -->
    <div class="ayah-item"
      v-for="(ayah, index) in surahDetail.text"
      :key="`ayah-${index}`"
      :id="`ayah-${index}`">
      <div class="ayah-action">
        <div class="number">{{ index }}</div>
        <div class="action-group">
          <van-icon 
            @click="onSetLastReadAyah(index)"
            class="icon" :size="24" 
            title="Simpan baca terakhir"
            color="#8855CC" :name="getIconLastReadAyah(surahDetail.number, index)" />
          <van-icon 
            @click="shareAyah(surahDetail.name_latin, ayah, Number(index))"
            class="icon" :size="24" 
            title="Bagikan Ayat"
            color="#8855CC" name="share-o" />
        </div>
      </div>

      <div class="ayah-text">
        <p class="arabic">{{ ayah }}</p>
        <transition name="van-fade">
          <p v-show="isTranslation" class="translation">{{ getTranslation(index) }}</p>
        </transition>
      </div>
    </div>

    <!-- paginate -->
    <div class="paginate">
      <van-pagination >
        <template #prev-text>
          <nuxt-link
            v-if="isHavePrev"
            :to="`/${surahId - 1}`"
            class="paginate__link">
            <van-icon name="arrow-left" />
          </nuxt-link>
          <span v-else class="van-pagination__item--disabled"></span>
        </template>
        <template #next-text>
          <nuxt-link
            v-if="isHaveNext"
            :to="`/${surahId + 1}`"
            class="paginate__link">
            <van-icon name="arrow" />
          </nuxt-link>
          <span v-else class="van-pagination__item--disabled"></span>
        </template>
        <template #page>
          <div class="ayah-picker" @click="showPicker = true">Cari Ayat</div>
          <van-popup v-model="showPicker" round position="bottom">
            <van-picker
              title="Cari Ayat"
              show-toolbar
              :columns="getNumberAyahArray()"
              @cancel="showPicker = false"
              @confirm="onSearchAyah"
              cancel-button-text="Batal"
              confirm-button-text="Konfirmasi"
            />
          </van-popup>
        </template>
      </van-pagination>
    </div>
  </section>
</template>

<script>
import { Toast, Notify } from 'vant'
import { mapState } from 'vuex'
import { __isNotNull } from '~/utils'

export default {
  name: 'SurahDetail',
  data: () => ({
    loading: true,
    isTranslation: false,
    showPicker: false
  }),
  computed: {
    ...mapState({
      surahDetail: state => state.surah.surahDetail
    }),
    surahId() {
      return Number(this.$route.params.surahId)
    },
    isHavePrev() {
      return this.surahId > 1
    },
    isHaveNext() {
      return this.surahId < 114
    }
  },
  mounted() {
    this.onMountedDetailPage(this.surahId)
  },
  methods: {
    onMountedDetailPage(id) {
      this.$store.dispatch('surah/fetchSurahById', {
        id,
        success: () => {
          setTimeout(() => {
            this.loading = false
          }, 1000)
        }
      })
    },
    onSetLastReadAyah(index) {
      this.$store.dispatch('surah/setLastReadAyah', { surah: this.surahId, ayah: Number(index) })
      Toast({
        message: 'Ayat telah ditambahkan di Terakhir Dibaca',
        icon: 'label-o',
      })
    },
    onSearchAyah(value) {
      this.$router.push(`#ayah-${value}`)
      this.showPicker = false
      Toast(`Pergi ke ayat ${value}`);
    },
    getTranslation(indexAyah) {
      return this.surahDetail.translations.id.text[indexAyah]
    },
    getNumberAyahArray() {
      return Array.from(Array(Number(this.surahDetail.number_of_ayah)).keys(), n => n + 1)
    },
    getIconLastReadAyah(surah, ayah) {
      const lastRead = this.$store.state.surah.lastReadAyah
      const isHaveLastRead = __isNotNull(lastRead && lastRead.surah)
      const isCurrentSurah = lastRead.surah == surah
      const iscurrentAyah = lastRead.ayah == ayah
      if (isHaveLastRead && isCurrentSurah && iscurrentAyah) {
        return 'label'
      } else return 'label-o'
    },
    shareAyah(surah, ayah, index) {
      // console.log(`${ayah}\n\nArtinya:\n${this.getTranslation(index)}\n(${surah}:${index})\n\nIslamic Portable App`)

      if (navigator.share) {
        navigator.share({
          title: `${surah}:${index}`,
          text: `${ayah}\n\nArtinya:\n${this.getTranslation(index)}\n(${surah}:${index})\n\nIslamic Portable App`,
          url: `https://islamic-portable.netlify.com`
        })
      } else {
        if (navigator.clipboard) {
          navigator.clipboard.writeText(`${ayah}\n\nArtinya:\n${this.getTranslation(index)}\n(${surah}:${index})\n\nIslamic Portable App\nhttps://islamic-portable.netlify.com`)
          Toast({
            message: `Ayat ${index} telah disalin`,
            icon: 'orders-o',
          })
        } else {
          Notify({ type: 'warning', message: 'Fitur Share/clipboard tidak mendukung !' });
          console.warn('web share and clipboard not support !')
        }
      }
    }
  }
}
</script>
<style lang="less" scoped>
.hero {
  background: linear-gradient(135deg, #DD96F9, #995CFE);
  box-shadow: 0px 4px 20px 0px #995cfe94;
  border-radius: 8px;
  padding: 24px 16px;
  color: #fff;
  position: relative;
  text-align: center;
  height: auto;
  overflow: hidden;
  animation: 1s appear;
  z-index: 1;
  margin: 24px 0 24px 0;
  &__bg {
    position: absolute;
    bottom: 0;
    right: 0;
    transform: scale(1.5) translateX(0%) rotate(-20deg);
    opacity: .25;
    z-index: -1;
    pointer-events: none;
  }
  &__text-decor {
    font-family: 'Scheherazade', serif;
    font-size: 120px;
    font-weight: 700;
    color: #fff;
    opacity: .15;
    position: absolute;
    top: -10%;
    left: 50%;
    transform: translateX(-50%);
    white-space: nowrap;
    pointer-events: none;
  }
  .title, .subtitle {
    margin: 0;
    margin-bottom: 1rem;
  }
  hr {
    margin-bottom: 1.5rem;
  }
}
@keyframes appear {
  0% {
    opacity: 0;
  }
}
.ayah-item {
  margin-bottom: 24px;
  background: rgb(221 150 249 / 10%);
  padding: 12px;
  border-radius: 8px;
  transition: all .5s;
  scroll-behavior: smooth;
  scroll-padding-top: 50px;
  .ayah-action {
    display: flex;
    justify-content: space-between;
    align-items: center;
    .action-group {
      display: flex;
      align-items: center;
      .icon {
        margin-left: 12px;
      }
    }
    .number {
      background: #8855CC;
      color: #fff;
      border-radius: 50%;
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
  }
  .ayah-text {
    transition: all .5s;
    .arabic {
      text-align: right;
      margin: 0;
    }
    .translation {
      text-align: left;
      font-size: 16px;
      color: #3B1D77;
      margin: 0;
      margin-top: 24px;
    }
  }
}

.setting {
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 24px;
  .label {
    margin-right: 8px;
  }
}

.paginate {
  position: fixed;
  bottom: 0;
  left: 0;
  width: 100%;
  &__link {
    display: flex;
    height: 100%;
    width: 100%;
    align-items: center;
    justify-content: center;
  }
  .ayah-picker {
    white-space: nowrap;
    width: 150px;
    text-align: center;
  }
}
::v-deep .van-pagination__page {
  flex-grow: 1 !important;
}

/* skeleton custom */
.van-skeleton__content {
  display: flex;
  flex-direction: column;
  align-items: center;
}
</style>